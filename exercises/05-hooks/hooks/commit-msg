#!/bin/bash

commit_msg_file=$1
commit_msg=$(cat $commit_msg_file)

# Check for emoji prefix
if ! echo "$commit_msg" | grep -qE "^(ğŸ‰|âœ¨|ğŸ›|ğŸ“|â™»ï¸|ğŸ”§|ğŸ”¥|âœ…|ğŸ”’|â¬†ï¸|â¬‡ï¸|ğŸ‘·|ğŸ“¦) .*$"; then
    echo "âŒ Commit message must start with an emoji"
    echo "Valid emojis: ğŸ‰ âœ¨ ğŸ› ğŸ“ â™»ï¸ ğŸ”§ ğŸ”¥ âœ… ğŸ”’ â¬†ï¸ â¬‡ï¸ ğŸ‘· ğŸ“¦"
    exit 1
fi

# Check message length
if [ ${#commit_msg} -lt 10 ]; then
    echo "âŒ Commit message too short"
    exit 1
fi

echo "âœ… Commit message format valid!"
exit 0
