#!/bin/bash

echo "üîç Running pre-commit checks..."

# Check for Python syntax errors
for file in $(git diff --cached --name-only | grep ".py$")
do
    if [ -f $file ]; then
        python -m py_compile $file
        if [ $? -ne 0 ]; then
            echo "‚ùå Python syntax error in $file"
            exit 1
        fi
    fi
done

# Check for trailing whitespace
if git diff --cached --check; then
    echo "‚úÖ No trailing whitespace found"
else
    echo "‚ùå Trailing whitespace found"
    exit 1
fi

echo "‚úÖ All checks passed!"
exit 0
